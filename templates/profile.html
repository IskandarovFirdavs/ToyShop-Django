{% extends 'layouts/base.html' %}
<!--  -->
{% load static %}
<!--  -->
{% block title %}Profile{% endblock %}
<!--  -->
{% block content %}
<style>
  /* Responsive styles */
  @media (max-width: 992px) {
    .profile-layout {
      grid-template-columns: 1fr !important;
    }
    .profile-sidebar {
      margin-bottom: 30px !important;
    }
  }

  @media (max-width: 768px) {
    .profile-section {
      padding: 20px !important;
    }
    .form-grid {
      grid-template-columns: 1fr !important;
      gap: 15px !important;
    }
  }

  @media (max-width: 576px) {
    .gender-options {
      flex-direction: column !important;
      gap: 10px !important;
      align-items: flex-start !important;
    }
    .setting-item {
      flex-direction: column !important;
      align-items: flex-start !important;
    }
    .setting-item-text {
      margin-bottom: 15px !important;
    }
    .container {
      padding-left: 15px !important;
      padding-right: 15px !important;
    }
    .profile-section {
      padding: 15px !important;
    }
  }
</style>

<!-- Profile Section -->
<section class="section">
  <div class="container">
    <div
      class="profile-layout"
      style="display: grid; grid-template-columns: 250px 1fr; gap: 30px"
    >
      <!-- Sidebar -->
      <div
        class="profile-sidebar"
        style="
          background-color: var(--card-background);
          border-radius: 10px;
          box-shadow: 0 5px 15px var(--shadow-color);
          padding: 20px;
          height: fit-content;
        "
      >
        <div
          class="profile-user"
          style="text-align: center; margin-bottom: 30px"
        >
          <div
            style="
              width: 100px;
              height: 100px;
              border-radius: 50%;
              overflow: hidden;
              margin: 0 auto 15px;
            "
          >
            <img
              src="/placeholder.svg?height=100&width=100"
              alt="User Avatar"
              style="width: 100%; height: 100%; object-fit: cover"
            />
          </div>
          <h3 style="margin-bottom: 5px">{{user.username}}</h3>
          <p style="color: var(--text-light)">john.doe@example.com</p>
        </div>

        <div class="profile-menu">
          <a
            href="#"
            class="profile-menu-item active"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              background-color: var(--primary-color);
              color: white;
            "
          >
            <i class="fas fa-user" style="margin-right: 10px"></i>
            <span>Personal Information</span>
          </a>
          <a
            href="#"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              transition: background-color 0.3s;
            "
          >
            <i class="fas fa-map-marker-alt" style="margin-right: 10px"></i>
            <span>My Addresses</span>
          </a>
          <a
            href="order_history.html"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              transition: background-color 0.3s;
            "
          >
            <i class="fas fa-history" style="margin-right: 10px"></i>
            <span>Order History</span>
          </a>
          <a
            href="wishlist.html"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              transition: background-color 0.3s;
            "
          >
            <i class="fas fa-heart" style="margin-right: 10px"></i>
            <span>Wishlist</span>
          </a>
          <a
            href="#"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              transition: background-color 0.3s;
            "
          >
            <i class="fas fa-bell" style="margin-right: 10px"></i>
            <span>Notifications</span>
          </a>
          <a
            href="#"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: var(--text-color);
              border-radius: 5px;
              margin-bottom: 5px;
              transition: background-color 0.3s;
            "
          >
            <i class="fas fa-lock" style="margin-right: 10px"></i>
            <span>Change Password</span>
          </a>
          <a
            href="#"
            class="profile-menu-item"
            style="
              display: flex;
              align-items: center;
              padding: 12px 15px;
              text-decoration: none;
              color: #e74c3c;
              border-radius: 5px;
              transition: background-color 0.3s;
            "
          >
            <span>
              <a href="{% url 'users:logout' %}">
                <i class="fas fa-sign-out-alt" style="margin-right: 10px"></i
                >Logout</a
              >
            </span>
          </a>
        </div>
      </div>

      <!-- Content -->
      <div class="profile-content">
        <div
          class="profile-section"
          style="
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-color);
            padding: 30px;
            margin-bottom: 30px;
          "
        >
          <h2 style="margin-bottom: 20px">Personal Information</h2>
          <form>
            <div
              class="form-grid"
              style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-bottom: 20px;
              "
            >
              <div class="form-group">
                <label for="first-name" class="form-label">First Name</label>
                <input
                  type="text"
                  id="first-name"
                  class="form-control"
                  value="John"
                />
              </div>
              <div class="form-group">
                <label for="last-name" class="form-label">Last Name</label>
                <input
                  type="text"
                  id="last-name"
                  class="form-control"
                  value="Doe"
                />
              </div>
            </div>

            <div
              class="form-grid"
              style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-bottom: 20px;
              "
            >
              <div class="form-group">
                <label for="email" class="form-label">Email Address</label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  value="john.doe@example.com"
                />
              </div>
              <div class="form-group">
                <label for="phone" class="form-label">Phone Number</label>
                <input
                  type="tel"
                  id="phone"
                  class="form-control"
                  value="+998 90 123 4567"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="birth-date" class="form-label">Date of Birth</label>
              <input
                type="date"
                id="birth-date"
                class="form-control"
                value="1990-01-15"
              />
            </div>

            <div class="form-group">
              <label class="form-label">Gender</label>
              <div class="gender-options" style="display: flex; gap: 20px">
                <label
                  style="display: flex; align-items: center; cursor: pointer"
                >
                  <input
                    type="radio"
                    name="gender"
                    value="male"
                    checked
                    style="margin-right: 10px"
                  />
                  Male
                </label>
                <label
                  style="display: flex; align-items: center; cursor: pointer"
                >
                  <input
                    type="radio"
                    name="gender"
                    value="female"
                    style="margin-right: 10px"
                  />
                  Female
                </label>
                <label
                  style="display: flex; align-items: center; cursor: pointer"
                >
                  <input
                    type="radio"
                    name="gender"
                    value="other"
                    style="margin-right: 10px"
                  />
                  Other
                </label>
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-primary"
              style="margin-top: 10px"
            >
              Save Changes
            </button>
          </form>
        </div>

        <div
          class="profile-section"
          style="
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-color);
            padding: 30px;
          "
        >
          <h2 style="margin-bottom: 20px">Account Settings</h2>

          <div
            class="setting-item"
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 15px 0;
              border-bottom: 1px solid var(--border-color);
            "
          >
            <div class="setting-item-text">
              <h3 style="margin-bottom: 5px">Email Notifications</h3>
              <p style="color: var(--text-light)">
                Receive emails about new products, promotions, and order
                updates.
              </p>
            </div>
            <label
              class="toggle-switch"
              style="
                position: relative;
                display: inline-block;
                width: 50px;
                height: 24px;
              "
            >
              <input
                type="checkbox"
                checked
                style="opacity: 0; width: 0; height: 0"
              />
              <span
                style="
                  position: absolute;
                  cursor: pointer;
                  top: 0;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  background-color: var(--primary-color);
                  border-radius: 34px;
                  transition: 0.4s;
                "
              >
                <span
                  style="
                    position: absolute;
                    content: '';
                    height: 16px;
                    width: 16px;
                    left: 4px;
                    bottom: 4px;
                    background-color: white;
                    border-radius: 50%;
                    transition: 0.4s;
                    transform: translateX(26px);
                  "
                ></span>
              </span>
            </label>
          </div>

          <div
            class="setting-item"
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 15px 0;
              border-bottom: 1px solid var(--border-color);
            "
          >
            <div class="setting-item-text">
              <h3 style="margin-bottom: 5px">SMS Notifications</h3>
              <p style="color: var(--text-light)">
                Receive text messages about order status and delivery updates.
              </p>
            </div>
            <label
              class="toggle-switch"
              style="
                position: relative;
                display: inline-block;
                width: 50px;
                height: 24px;
              "
            >
              <input type="checkbox" style="opacity: 0; width: 0; height: 0" />
              <span
                style="
                  position: absolute;
                  cursor: pointer;
                  top: 0;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  background-color: var(--border-color);
                  border-radius: 34px;
                  transition: 0.4s;
                "
              >
                <span
                  style="
                    position: absolute;
                    content: '';
                    height: 16px;
                    width: 16px;
                    left: 4px;
                    bottom: 4px;
                    background-color: white;
                    border-radius: 50%;
                    transition: 0.4s;
                  "
                ></span>
              </span>
            </label>
          </div>

          <div
            class="setting-item"
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 15px 0;
            "
          >
            <div class="setting-item-text">
              <h3 style="margin-bottom: 5px">Two-Factor Authentication</h3>
              <p style="color: var(--text-light)">
                Add an extra layer of security to your account.
              </p>
            </div>
            <button class="btn btn-outline">Enable</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %} {% block extra_js %}
<script>
  // Load navbar and footer
  fetch("navbar.html")
    .then((response) => response.text())
    .then((data) => {
      const parser = new DOMParser();
      const navbarDoc = parser.parseFromString(data, "text/html");
      const navbarContent = navbarDoc.querySelector(".navbar");
      document.getElementById("navbar-placeholder").appendChild(navbarContent);

      // Execute navbar scripts
      const scripts = navbarDoc.querySelectorAll("script");
      scripts.forEach((script) => {
        const newScript = document.createElement("script");
        if (script.src) {
          newScript.src = script.src;
        } else {
          newScript.textContent = script.textContent;
        }
        document.body.appendChild(newScript);
      });
    });

  fetch("footer.html")
    .then((response) => response.text())
    .then((data) => {
      const parser = new DOMParser();
      const footerDoc = parser.parseFromString(data, "text/html");
      const footerContent = footerDoc.querySelector(".footer");
      document.getElementById("footer-placeholder").appendChild(footerContent);
    });

  // Toggle switch functionality
  const toggleSwitches = document.querySelectorAll(".toggle-switch input");
  toggleSwitches.forEach((toggle) => {
    toggle.addEventListener("change", () => {
      const switchSpan = toggle.nextElementSibling;
      if (toggle.checked) {
        switchSpan.style.backgroundColor = "var(--primary-color)";
        switchSpan.querySelector("span").style.transform = "translateX(26px)";
      } else {
        switchSpan.style.backgroundColor = "var(--border-color)";
        switchSpan.querySelector("span").style.transform = "translateX(0)";
      }
    });
  });

  // Profile menu item hover effect
  const menuItems = document.querySelectorAll(
    ".profile-menu-item:not(.active)"
  );
  menuItems.forEach((item) => {
    item.addEventListener("mouseover", () => {
      item.style.backgroundColor = "var(--background-color)";
    });
    item.addEventListener("mouseout", () => {
      item.style.backgroundColor = "transparent";
    });
  });
</script>
{% endblock %}
